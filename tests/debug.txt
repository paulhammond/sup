# prep
prep remote.db

# upload
sup -v config.hcl remote.db
cmp stderr output.txt
! stdout .

# check
sup config.hcl remote.db
cmp stderr output2.txt
! stdout .

-- config.hcl --
source = "src"

-- output.txt --
local files:
a.txt
b.txt
c.txt
applying filters:
detecttype [a.txt] detected "text/plain; charset=utf-8" via extension
detecttype [b.txt] detected "text/plain; charset=utf-8" via extension
detecttype [c.txt] detected "text/plain; charset=utf-8" via extension
done
remote files:
a.txt
b.txt
d.txt
upload:
a.txt
c.txt
delete:
d.txt
uploading:
a.txt [123ms]
c.txt [123ms]
done
-- output2.txt --
applying filters: done
upload:
delete:
d.txt
-- src/a.txt --
a
-- src/b.txt --
b
-- src/c.txt --
c